# Make-Datei

OP			=	obj:
IP			=	dh1:lrc/ownincs/
XP			=	dh1:lrc/code/xem/
AP			=	dh1:lrc/asource/
CP			=	dh1:lrc/csource/

CC       = lc
AS       = genim

CFLAGS	= -ccfiksu -q3e -b1 -r1r -mta -v -Hram:sym/comm.q -Hram:sym/AmigaInclude.sym -j85e86e87e88e89e94e100e -o$(OP)
AFLAGS	= -L

VT340OBJ		=	$(OP)VT340_lib.o $(OP)VT340_writecon.o\
					$(OP)VT340_funcs.o $(OP)VT340_VT52funcs.o\
					$(OP)VT340_ESCfuncs.o $(OP)VT340_CSIfuncs.o\
					$(OP)VT340_Suppfuncs.o	$(OP)VT340_TEKfuncs.o	$(OP)VT340_transfer.o\
					$(OP)VT340_raster.o $(OP)VT340_parseinit.o
#					$(OP)VT340_charloc.o $(OP)VT220_stretch.o\
#					$(OP)VT340_graphics.o	$(OP)VT340_technical.o	$(OP)VT340_DECsuppl.o	$(OP)VT340_ISOsuppl.o	$(OP)VT340_ASCII.o		

IBMOBJ		=	$(OP)IBM_lib.o $(OP)IBMfuncs.o $(OP)IBM_ESCfuncs.o\
					$(OP)IBM_CSIfuncs.o $(OP)IBM_Suppfuncs.o

CHATTOBJ	=	$(OP)Chatter_lib.o $(OP)Chattfuncs.o

AMIGAOBJ	=	$(OP)Amiga_lib.o $(OP)Amigafuncs.o

ASCIIOBJ = $(OP)ASCII_lib.o $(OP)ASCII_funcs.o

all : $(XP)xemascii.library $(XP)xemvt340.library $(XP)xemchatter.library\
		$(XP)xemamiga.library $(XP)xemibm.library



$(XP)xemibm.library: $(IBMOBJ)
	blink WITH $(CP)ibm/IBMlinkfile
	remlib xemibm.library

$(XP)xemvt340.library: $(VT340OBJ)
	blink WITH $(CP)VT340/VT340_linkfile
	remlib xemvt340.library

$(XP)xemascii.library: $(ASCIIOBJ)
	blink WITH $(CP)ASCII/ASCIIlinkfile
	remlib xemascii.library

$(XP)xemchatter.library: $(CHATTOBJ)
	blink WITH $(CP)Chatter/chattlinkfile
	remlib xemchatter.library

$(XP)xemamiga.library: $(AMIGAOBJ)
	blink WITH $(CP)amiga/amigalinkfile
	remlib xemamiga.library

.c.o:
	$(CC) $(CFLAGS) -x $*.c
.a.o:
	$(AS) -L -O$@ $*.a



# IBM
# ---
$(OP)IBM_ESCfuncs.o	: $(CP)IBM/IBM_ESCfuncs.c	$(IP)IBMConsole.h	$(IP)xem.h
$(OP)IBM_CSIfuncs.o	: $(CP)IBM/IBM_CSIfuncs.c	$(IP)IBMConsole.h	$(IP)xem.h
$(OP)IBM_Suppfuncs.o	: $(CP)IBM/IBM_Suppfuncs.c	$(IP)IBMConsole.h	$(IP)xem.h
$(OP)IBM_lib.o		: $(CP)IBM/IBM_lib.a
$(OP)IBMfuncs.o		: $(CP)IBM/IBMfuncs.c	$(IP)IBMConsole.h	$(IP)xem.h
	$(CC) $(CFLAGS) $(CP)IBM/IBMfuncs.c


# VT340
# -----
$(OP)VT340_funcs.o		: $(CP)VT340/VT340_funcs.c			$(IP)VT340Console.h	$(IP)xem.h
	$(CC) $(CFLAGS) $(CP)VT340/VT340_funcs.c
$(OP)VT340_writecon.o		: $(CP)VT340/VT340_writecon.c	$(IP)VT340Console.h	$(IP)xem.h
	$(CC) $(CFLAGS) $(CP)VT340/VT340_writecon.c
$(OP)VT340_transfer.o	: $(CP)VT340/VT340_transfer.c		$(IP)VT340Console.h	$(IP)xem.h
$(OP)VT340_VT52funcs.o	: $(CP)VT340/VT340_VT52funcs.c	$(IP)VT340Console.h	$(IP)xem.h
$(OP)VT340_ESCfuncs.o	: $(CP)VT340/VT340_ESCfuncs.c		$(IP)VT340Console.h	$(IP)xem.h
$(OP)VT340_CSIfuncs.o	: $(CP)VT340/VT340_CSIfuncs.c		$(IP)VT340Console.h	$(IP)xem.h
$(OP)VT340_TEKfuncs.o	: $(CP)VT340/VT340_TEKfuncs.c		$(IP)VT340Console.h	$(IP)xem.h
$(OP)VT340_Suppfuncs.o	: $(CP)VT340/VT340_Suppfuncs.c	$(IP)VT340Console.h	$(IP)xem.h
$(OP)VT340_raster.o		: $(CP)VT340/VT340_raster.c		$(IP)VT340Console.h	$(IP)xem.h
$(OP)VT340_parseinit.o	: $(CP)VT340/VT340_parseinit.c	$(IP)VT340Console.h	$(IP)xem.h
$(OP)VT340_lib.o			: $(CP)VT340/VT340_lib.a
#$(OP)VT340_graphics.o	: $(AP)VT340_graphics.a
#$(OP)VT340_technical.o	: $(AP)VT340_technical.a
#$(OP)VT340_DECsuppl.o	: $(AP)VT340_DECsuppl.a
#$(OP)VT340_ISOsuppl.o	: $(AP)VT340_ISOsuppl.a
#$(OP)VT340_ASCII.o		: $(AP)VT340_ASCII.a
#$(OP)VT340_charloc.o	: $(CP)VT340/VT340_charloc.a
$(OP)VT220_stretch.o		: $(CP)VT340/VT220_stretch.a
	asm -o$(OP) -iASSINC: $(CP)VT340/VT220_stretch.a



# ASCII
# -----
$(OP)ASCII_funcs.o : $(CP)ASCII/ASCII_funcs.c	$(IP)ASCIIConsole.h	$(IP)xem.h
	$(CC) $(CFLAGS) $(CP)ASCII/ASCII_funcs.c
$(OP)ASCII_lib.o	: $(CP)ASCII/ASCII_lib.a


# AmigaANSI
# ---------
$(OP)Amigafuncs.o : $(CP)Amiga/Amigafuncs.c	$(IP)AmigaConsole.h	$(IP)xem.h
	$(CC) $(CFLAGS) $(CP)Amiga/Amigafuncs.c
$(OP)Amiga_lib.o	: $(CP)Amiga/Amiga_lib.a


# Chatter
# -------
$(OP)Chattfuncs.o : $(CP)Chatter/Chattfuncs.c	$(IP)ChattConsole.h	$(IP)xem.h
	$(CC) $(CFLAGS) $(CP)Chatter/Chattfuncs.c
$(OP)Chatter_lib.o	: $(CP)Chatter/Chatter_lib.a


$(OP)FastText.o :  $(AP)FastText.a
